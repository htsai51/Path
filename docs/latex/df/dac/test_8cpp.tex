\hypertarget{test_8cpp}{\section{test/test.cpp File Reference}
\label{test_8cpp}\index{test/test.\-cpp@{test/test.\-cpp}}
}


Implementation of unit test for \hyperlink{classAStarAlgorithm}{A\-Star\-Algorithm}.  


{\ttfamily \#include $<$gmock/gmock.\-h$>$}\\*
{\ttfamily \#include $<$gtest/gtest.\-h$>$}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$vector$>$}\\*
{\ttfamily \#include \char`\"{}A\-Star\-Algorithm.\-hpp\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{test_8cpp_a3839750f9865e24e70db415b7971d5c1}{T\-E\-S\-T} (test\-Create\-Map1, handle\-Create\-Map\-Error)
\begin{DoxyCompactList}\small\item\em Check create\-Map function error handling by passing a non-\/existing input map path \par
 Test expects F\-A\-L\-S\-E as map should N\-O\-T be created successfully. \end{DoxyCompactList}\item 
\hyperlink{test_8cpp_ab8e1bad4d6511e9e3d4f41d4aa4ae8f3}{T\-E\-S\-T} (test\-Create\-Map2, handle\-Create\-Map)
\begin{DoxyCompactList}\small\item\em Check create\-Map function by passing test map \par
 Test expects T\-R\-U\-E as map should be created successfully. \end{DoxyCompactList}\item 
\hyperlink{test_8cpp_ac4259047d34f2ff40d6d2a4b0798a24b}{T\-E\-S\-T} (test\-Set\-Param1, handle\-Set\-Param)
\begin{DoxyCompactList}\small\item\em Check set\-Param function by setting feasible start, goal indices \par
 Test expects T\-R\-U\-E as start and goal are within map and are not obstacle nodes. \end{DoxyCompactList}\item 
\hyperlink{test_8cpp_a16e9590c9df2a12fed3d6cc29f770379}{T\-E\-S\-T} (test\-Set\-Param2, handle\-Error)
\begin{DoxyCompactList}\small\item\em Check error handling of set\-Param by setting start, goal indices to out of bound or obstacle nodes \par
 Test expects F\-A\-L\-S\-E return. \end{DoxyCompactList}\item 
\hyperlink{test_8cpp_aa8fb7a958f011d95126db7a96e34a694}{T\-E\-S\-T} (test\-Path1, compute\-Path\-Should\-Pass)
\begin{DoxyCompactList}\small\item\em Check compute\-Path function a given start, goal nodes that has a feasible path \par
 Test expects T\-R\-U\-E as there should be a feasible path. \end{DoxyCompactList}\item 
\hyperlink{test_8cpp_a857f7974f32f03788927411610880968}{T\-E\-S\-T} (test\-Path2, compute\-Path\-Should\-Pass)
\begin{DoxyCompactList}\small\item\em Check compute\-Path function can find path for setting start to goal node \par
 Test expects T\-R\-U\-E. \end{DoxyCompactList}\item 
\hyperlink{test_8cpp_af3fcaa31c42a5cad00967805797f3f58}{T\-E\-S\-T} (test\-Correctness, compute\-Cost\-Should\-Match)
\begin{DoxyCompactList}\small\item\em Check compute\-Path function computes shortest path by comparing cost result to Dijkstra's result \par
 Test expects Astar and Dijkstra's computes the same cost for shortest path. \end{DoxyCompactList}\item 
\hyperlink{test_8cpp_a35d61f20ba163b0ee3011ae63ba0f1b5}{T\-E\-S\-T} (test\-Completeness, handle\-Unreachable\-Goal)
\begin{DoxyCompactList}\small\item\em Check compute\-Path returns fail for a given start and goal nodes which do not have a feasible path \par
 Test expects F\-A\-L\-S\-E as there is no feasible path. \end{DoxyCompactList}\item 
\hyperlink{test_8cpp_a0103614714bf9ba4b46cea60ec3c636f}{T\-E\-S\-T} (test\-Robostness, compute\-Path\-Should\-Be\-Robost)
\begin{DoxyCompactList}\small\item\em Check compute\-Path consistently finds the same path for a given start, goal nodes \par
 Test expects path computed are the same. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implementation of unit test for \hyperlink{classAStarAlgorithm}{A\-Star\-Algorithm}. This file contains implementation of unit test for A\-Start\-Algorithm

\begin{DoxyAuthor}{Author}
Huei Tzu Tsai 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
03/10/2017 
\end{DoxyDate}


\subsection{Function Documentation}
\hypertarget{test_8cpp_a3839750f9865e24e70db415b7971d5c1}{\index{test.\-cpp@{test.\-cpp}!T\-E\-S\-T@{T\-E\-S\-T}}
\index{T\-E\-S\-T@{T\-E\-S\-T}!test.cpp@{test.\-cpp}}
\subsubsection[{T\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}T\-E\-S\-T (
\begin{DoxyParamCaption}
\item[{test\-Create\-Map1}]{, }
\item[{handle\-Create\-Map\-Error}]{}
\end{DoxyParamCaption}
)}}\label{test_8cpp_a3839750f9865e24e70db415b7971d5c1}


Check create\-Map function error handling by passing a non-\/existing input map path \par
 Test expects F\-A\-L\-S\-E as map should N\-O\-T be created successfully. 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
52                                            \{
53     \hyperlink{classAStarAlgorithm}{AStarAlgorithm} aStar;
54 
55     ASSERT\_FALSE(aStar.PathFindingAlgorithm::init(\textcolor{stringliteral}{"unknown.csv"}));
56 \}
\end{DoxyCode}
\hypertarget{test_8cpp_ab8e1bad4d6511e9e3d4f41d4aa4ae8f3}{\index{test.\-cpp@{test.\-cpp}!T\-E\-S\-T@{T\-E\-S\-T}}
\index{T\-E\-S\-T@{T\-E\-S\-T}!test.cpp@{test.\-cpp}}
\subsubsection[{T\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}T\-E\-S\-T (
\begin{DoxyParamCaption}
\item[{test\-Create\-Map2}]{, }
\item[{handle\-Create\-Map}]{}
\end{DoxyParamCaption}
)}}\label{test_8cpp_ab8e1bad4d6511e9e3d4f41d4aa4ae8f3}


Check create\-Map function by passing test map \par
 Test expects T\-R\-U\-E as map should be created successfully. 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
66                                       \{
67     \hyperlink{classAStarAlgorithm}{AStarAlgorithm} aStar;
68 
69     ASSERT\_TRUE(aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP}));
70 \}
\end{DoxyCode}
\hypertarget{test_8cpp_ac4259047d34f2ff40d6d2a4b0798a24b}{\index{test.\-cpp@{test.\-cpp}!T\-E\-S\-T@{T\-E\-S\-T}}
\index{T\-E\-S\-T@{T\-E\-S\-T}!test.cpp@{test.\-cpp}}
\subsubsection[{T\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}T\-E\-S\-T (
\begin{DoxyParamCaption}
\item[{test\-Set\-Param1}]{, }
\item[{handle\-Set\-Param}]{}
\end{DoxyParamCaption}
)}}\label{test_8cpp_ac4259047d34f2ff40d6d2a4b0798a24b}


Check set\-Param function by setting feasible start, goal indices \par
 Test expects T\-R\-U\-E as start and goal are within map and are not obstacle nodes. 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
82                                     \{
83     \hyperlink{classAStarAlgorithm}{AStarAlgorithm} aStar;
84 
85     aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP});
86 
87     \textcolor{comment}{// start, goal is acceptable}
88     ASSERT\_TRUE(aStar.PathFindingAlgorithm::setParam(1, 36));
89 
90     \textcolor{comment}{// start, goal is acceptable}
91     ASSERT\_TRUE(aStar.PathFindingAlgorithm::setParam(1, 1));
92 \}
\end{DoxyCode}
\hypertarget{test_8cpp_a16e9590c9df2a12fed3d6cc29f770379}{\index{test.\-cpp@{test.\-cpp}!T\-E\-S\-T@{T\-E\-S\-T}}
\index{T\-E\-S\-T@{T\-E\-S\-T}!test.cpp@{test.\-cpp}}
\subsubsection[{T\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}T\-E\-S\-T (
\begin{DoxyParamCaption}
\item[{test\-Set\-Param2}]{, }
\item[{handle\-Error}]{}
\end{DoxyParamCaption}
)}}\label{test_8cpp_a16e9590c9df2a12fed3d6cc29f770379}


Check error handling of set\-Param by setting start, goal indices to out of bound or obstacle nodes \par
 Test expects F\-A\-L\-S\-E return. 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
103                                  \{
104     \hyperlink{classAStarAlgorithm}{AStarAlgorithm} aStar;
105 
106     aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP});
107 
108     \textcolor{comment}{// start, goal out of map}
109     ASSERT\_FALSE(aStar.PathFindingAlgorithm::setParam(0, 1000));
110 
111     \textcolor{comment}{// start, goal is obstacle}
112     ASSERT\_FALSE(aStar.PathFindingAlgorithm::setParam(7, 10));
113 \}
\end{DoxyCode}
\hypertarget{test_8cpp_aa8fb7a958f011d95126db7a96e34a694}{\index{test.\-cpp@{test.\-cpp}!T\-E\-S\-T@{T\-E\-S\-T}}
\index{T\-E\-S\-T@{T\-E\-S\-T}!test.cpp@{test.\-cpp}}
\subsubsection[{T\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}T\-E\-S\-T (
\begin{DoxyParamCaption}
\item[{test\-Path1}]{, }
\item[{compute\-Path\-Should\-Pass}]{}
\end{DoxyParamCaption}
)}}\label{test_8cpp_aa8fb7a958f011d95126db7a96e34a694}


Check compute\-Path function a given start, goal nodes that has a feasible path \par
 Test expects T\-R\-U\-E as there should be a feasible path. 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
124                                        \{
125     \hyperlink{classAStarAlgorithm}{AStarAlgorithm} aStar;
126 
127     aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP});
128 
129     aStar.PathFindingAlgorithm::setParam(1, 30);
130 
131     \textcolor{comment}{// expect path to be computed}
132     ASSERT\_TRUE(aStar.\hyperlink{classAStarAlgorithm_af3adf65228c56523489d3bd4e278e66f}{computPath}(1.0));
133 \}
\end{DoxyCode}
\hypertarget{test_8cpp_a857f7974f32f03788927411610880968}{\index{test.\-cpp@{test.\-cpp}!T\-E\-S\-T@{T\-E\-S\-T}}
\index{T\-E\-S\-T@{T\-E\-S\-T}!test.cpp@{test.\-cpp}}
\subsubsection[{T\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}T\-E\-S\-T (
\begin{DoxyParamCaption}
\item[{test\-Path2}]{, }
\item[{compute\-Path\-Should\-Pass}]{}
\end{DoxyParamCaption}
)}}\label{test_8cpp_a857f7974f32f03788927411610880968}


Check compute\-Path function can find path for setting start to goal node \par
 Test expects T\-R\-U\-E. 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
144                                        \{
145     \hyperlink{classAStarAlgorithm}{AStarAlgorithm} aStar;
146 
147     aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP});
148 
149     aStar.PathFindingAlgorithm::setParam(1, 1);
150 
151     \textcolor{comment}{// expect path to be computed}
152     ASSERT\_TRUE(aStar.\hyperlink{classAStarAlgorithm_af3adf65228c56523489d3bd4e278e66f}{computPath}(1.0));
153 \}
\end{DoxyCode}
\hypertarget{test_8cpp_af3fcaa31c42a5cad00967805797f3f58}{\index{test.\-cpp@{test.\-cpp}!T\-E\-S\-T@{T\-E\-S\-T}}
\index{T\-E\-S\-T@{T\-E\-S\-T}!test.cpp@{test.\-cpp}}
\subsubsection[{T\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}T\-E\-S\-T (
\begin{DoxyParamCaption}
\item[{test\-Correctness}]{, }
\item[{compute\-Cost\-Should\-Match}]{}
\end{DoxyParamCaption}
)}}\label{test_8cpp_af3fcaa31c42a5cad00967805797f3f58}


Check compute\-Path function computes shortest path by comparing cost result to Dijkstra's result \par
 Test expects Astar and Dijkstra's computes the same cost for shortest path. 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
166                                               \{
167     \hyperlink{classAStarAlgorithm}{AStarAlgorithm} aStar;
168     \textcolor{keywordtype}{double} cost1 = 0;
169     \textcolor{keywordtype}{double} cost2 = 0;
170 
171     \textcolor{comment}{// init to setup map and clear variables}
172     aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP});
173     aStar.PathFindingAlgorithm::setParam(1, 24);
174 
175     \textcolor{comment}{// set weight to 1.0 for A* algorithm}
176     aStar.\hyperlink{classAStarAlgorithm_af3adf65228c56523489d3bd4e278e66f}{computPath}(1.0);
177     cost1 = aStar.PathFindingAlgorithm::getTotalCost();
178 
179     \textcolor{comment}{// init again to clear variables}
180     aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP});
181     aStar.PathFindingAlgorithm::setParam(1, 24);
182 
183     \textcolor{comment}{// set weight to 0.0 for Dijkstra's algorithm}
184     aStar.\hyperlink{classAStarAlgorithm_af3adf65228c56523489d3bd4e278e66f}{computPath}(0.0);
185     cost2 = aStar.PathFindingAlgorithm::getTotalCost();
186 
187     \textcolor{comment}{// make sure path cost matches}
188     ASSERT\_EQ(cost1, cost2);
189 \}
\end{DoxyCode}
\hypertarget{test_8cpp_a35d61f20ba163b0ee3011ae63ba0f1b5}{\index{test.\-cpp@{test.\-cpp}!T\-E\-S\-T@{T\-E\-S\-T}}
\index{T\-E\-S\-T@{T\-E\-S\-T}!test.cpp@{test.\-cpp}}
\subsubsection[{T\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}T\-E\-S\-T (
\begin{DoxyParamCaption}
\item[{test\-Completeness}]{, }
\item[{handle\-Unreachable\-Goal}]{}
\end{DoxyParamCaption}
)}}\label{test_8cpp_a35d61f20ba163b0ee3011ae63ba0f1b5}


Check compute\-Path returns fail for a given start and goal nodes which do not have a feasible path \par
 Test expects F\-A\-L\-S\-E as there is no feasible path. 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
201                                               \{
202     \hyperlink{classAStarAlgorithm}{AStarAlgorithm} aStar;
203 
204     aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP});
205 
206     \textcolor{comment}{// set an unreachable goal}
207     aStar.PathFindingAlgorithm::setParam(1, 15);
208     aStar.\hyperlink{classAStarAlgorithm_af3adf65228c56523489d3bd4e278e66f}{computPath}(1.0);
209 
210     \textcolor{comment}{// make sure test return fail}
211     ASSERT\_FALSE(aStar.\hyperlink{classAStarAlgorithm_af3adf65228c56523489d3bd4e278e66f}{computPath}(1.0));
212 \}
\end{DoxyCode}
\hypertarget{test_8cpp_a0103614714bf9ba4b46cea60ec3c636f}{\index{test.\-cpp@{test.\-cpp}!T\-E\-S\-T@{T\-E\-S\-T}}
\index{T\-E\-S\-T@{T\-E\-S\-T}!test.cpp@{test.\-cpp}}
\subsubsection[{T\-E\-S\-T}]{\setlength{\rightskip}{0pt plus 5cm}T\-E\-S\-T (
\begin{DoxyParamCaption}
\item[{test\-Robostness}]{, }
\item[{compute\-Path\-Should\-Be\-Robost}]{}
\end{DoxyParamCaption}
)}}\label{test_8cpp_a0103614714bf9ba4b46cea60ec3c636f}


Check compute\-Path consistently finds the same path for a given start, goal nodes \par
 Test expects path computed are the same. 


\begin{DoxyParams}{Parameters}
{\em none} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
223                                                 \{
224     \hyperlink{classAStarAlgorithm}{AStarAlgorithm} aStar;
225     vector<int> path1;
226     vector<int> path2;
227 
228     aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP});
229 
230     \textcolor{comment}{// set start, goal, and compute using A*}
231     aStar.PathFindingAlgorithm::setParam(1, 30);
232 
233     \textcolor{comment}{// assert that path can be generated}
234     ASSERT\_TRUE(aStar.\hyperlink{classAStarAlgorithm_af3adf65228c56523489d3bd4e278e66f}{computPath}(1.0));
235     path1 = aStar.PathFindingAlgorithm::getPath();
236 
237     \textcolor{comment}{// run compute path for same start & goal for 100 times}
238     \textcolor{comment}{// and make sure results are consistent and no crash}
239     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 1000; i++) \{
240         aStar.PathFindingAlgorithm::init(\hyperlink{PathFindAlgorithm_8hpp_a756134fa7d22682cd49c982fc9f7d574}{DEFAUTL\_TEST\_MAP});
241         aStar.PathFindingAlgorithm::setParam(1, 30);
242 
243         ASSERT\_TRUE(aStar.\hyperlink{classAStarAlgorithm_af3adf65228c56523489d3bd4e278e66f}{computPath}(1.0));
244         path2 = aStar.PathFindingAlgorithm::getPath();
245         EXPECT\_THAT(path1, ::testing::ContainerEq(path2));
246     \}
247 \}
\end{DoxyCode}
